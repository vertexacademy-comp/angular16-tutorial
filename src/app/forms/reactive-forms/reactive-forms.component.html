<div class="container">
    <h2 class="heading">Reactive Form</h2>

    <form  [formGroup]="userForm"  (ngSubmit)="submitForm()">
        <div class="form-group">
            <label for="name">Name</label>
            <input type="text" class="form-control" id="name" name="name" formControlName="name">
            <div *ngIf="userForm.controls['name'].touched && userForm.controls['name'].invalid" class="text-danger">
                Name is required.
              </div>
      
          </div>

          
        <div class="form-group">
            <label for="email">Email</label>
            <input type="text" class="form-control" id="email" name="email"  formControlName="email">
            <div *ngIf="userForm.controls['email']?.touched && userForm.controls['email']?.invalid" class="text-danger">
                Please enter a valid email address.
              </div>
          </div>
          
        <div class="form-group">
            <label for="name">Address</label>
            <input type="text" class="form-control" id="address" name="address" formControlName="address">
            <div *ngIf="userForm.controls['address'].touched && userForm.controls['address'].invalid" class="text-danger">
                Address is required.
              </div>
          </div>
          
        <div class="form-group">
            <label for="name">Age</label>
            <input type="text" class="form-control" id="age" name="age" formControlName="age">
          </div>

          <div class="form-group">
            <label for="name">Mobile</label>
            <input type="number" class="form-control" id="mobile" name="mobile"  formControlName="mobile">
          </div>

          <div class="form-group">
            <label for="name">Message</label>
            <textarea type="text" class="form-control" id="message" name="message" formControlName="message"></textarea>
          </div>
   
          <div class="form-group">
            <label for="gender">Gender</label>
            <select class="form-control" id="gender" name="gender" formControlName="gender">
              <option value="" disabled>Select Gender</option>
              <option value="male">Male</option>
              <option value="female">Female</option>
              <option value="other">Other</option>
            </select>
            </div>
            <br>
            
            <button class=" btn btn-primary" (click)="addPassenger()"> Add New Passenger</button>

              <div formArrayName="passengers">
                <div *ngFor="let passenger of passengers.controls; let i = index">
                  <div [formGroupName]="i">
                    Passenger name
                    <input type="text" formControlName="passenger_name">
                    Passenger Age
                    <input type="text" formControlName="passenger_age">
                    Passenger Gender
                    <div class="form-group">
                    <select class="form-control" id="passenger_gender" name="passenger_gender" formControlName="passenger_gender">
                      <option value="" disabled>Select Gender</option>
                      <option value="male">Male</option>
                      <option value="female">Female</option>
                      <option value="other">Other</option>
                    </select>
                  </div>
                    <button class=" btn btn-primary" (click)="removePassenger(i)"> Remove Passenger</button>
                  </div>

                </div>
              </div>

            <button type="submit" class="btn btn-primary" [disabled]="userForm.invalid">Submit</button>

    </form>
    </div>